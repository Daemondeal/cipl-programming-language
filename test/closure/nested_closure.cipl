let f
proc f1():
    let a = "a"
    proc f2():
        let b = "b"
        proc f3():
            let c = "c"
            proc f4():
                print(a)
                print(b)
                print(c)
            f = f4
        f3()
    f2()
f1()

f()

# This should print a\nb\nc